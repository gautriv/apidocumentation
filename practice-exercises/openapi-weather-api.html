---
layout: practice-exercise
title: Basic OpenAPI Specification Exercise
permalink: /practice-exercises/openapi-weather-api/
custom_css:
  - openapi-exercise
custom_js:
  - openapi-exercise
---

<div class="container">
  <div class="module-breadcrumb">
    <a href="{{ "/" | relative_url }}">Home</a> &gt;
    <a href="{{ "/practice-exercises/" | relative_url }}">Practice Exercises</a> &gt;
    <span>Basic OpenAPI Specification</span>
  </div>

  <div class="module-header">
    <h1 class="module-title">Exercise #1: Basic OpenAPI Specification</h1>
    <p class="module-description">Learn how to create a basic OpenAPI specification for a simple weather API</p>
  </div>

  <div class="content-wrapper">
    <div class="main-content">
      <section class="module-section">
        <h2>Exercise Description</h2>
        <p>In this exercise, you will create a basic OpenAPI 3.0 specification for a simple weather API that allows users to get current weather conditions and forecasts for a city. This exercise will help you understand the structure of OpenAPI documents and how to document API endpoints, parameters, responses, and schemas.</p>
        
        <div class="info-box">
          <div class="info-box-header">
            <i class="fas fa-info-circle icon"></i>
            <span>Exercise Objectives</span>
          </div>
          <div class="info-box-content">
            <ul>
              <li>Understand the structure of OpenAPI 3.0 specifications</li>
              <li>Document API endpoints and their parameters</li>
              <li>Define request and response schemas</li>
              <li>Add examples and descriptions to make the API more user-friendly</li>
              <li>Create a specification that can be rendered with Swagger UI</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="module-section">
        <h2>API Requirements</h2>
        <p>The weather API you will document should include the following endpoints:</p>
        
        <div class="endpoint-example">
          <p>1. Get the current weather for a city:</p>
          <code>GET /weather/current/{city}</code>
          
          <p>2. Get a 5-day forecast for a city:</p>
          <code>GET /weather/forecast/{city}</code>
          
          <p>3. Get historical weather data for a city:</p>
          <code>GET /weather/history/{city}</code>
        </div>
        
        <h3>Parameters</h3>
        <div class="param-table">
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Location</th>
                <th>Required</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>city</code></td>
                <td>string</td>
                <td>path</td>
                <td>Yes</td>
                <td>The name of the city to get weather information for</td>
              </tr>
              <tr>
                <td><code>units</code></td>
                <td>string</td>
                <td>query</td>
                <td>No</td>
                <td>Units of measurement. Options: <code>metric</code> (default), <code>imperial</code></td>
              </tr>
              <tr>
                <td><code>lang</code></td>
                <td>string</td>
                <td>query</td>
                <td>No</td>
                <td>Language for weather descriptions. Default: <code>en</code></td>
              </tr>
              <tr>
                <td><code>days</code></td>
                <td>integer</td>
                <td>query</td>
                <td>No</td>
                <td>Number of days for historical data (1-30). Only applicable for the history endpoint.</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <h3>Example Response</h3>
        <div class="example-box">
          <h4>Current Weather Response</h4>
          <pre><code>{
  "city": "London",
  "country": "GB",
  "timestamp": "2023-05-15T12:00:00Z",
  "weather": {
    "temperature": 18.5,
    "feels_like": 17.8,
    "humidity": 65,
    "pressure": 1012,
    "description": "Partly cloudy",
    "wind": {
      "speed": 12.5,
      "direction": "SW"
    }
  }
}</code></pre>
        </div>
      </section>

      <section class="module-section">
        <h2>Your Task</h2>
        <p>Create a complete OpenAPI 3.0 specification in YAML format that documents the weather API described above. Your specification should include:</p>
        
        <ul>
          <li>API information (title, description, version, etc.)</li>
          <li>Server information</li>
          <li>Path definitions for all three endpoints</li>
          <li>Parameter definitions (path and query parameters)</li>
          <li>Response schemas for all endpoints</li>
          <li>Component schemas for reusable objects</li>
          <li>Examples for requests and responses</li>
          <li>Descriptions for all components to make the API user-friendly</li>
        </ul>
        
        <div class="info-box">
          <div class="info-box-header">
            <i class="fas fa-lightbulb icon"></i>
            <span>Tip</span>
          </div>
          <div class="info-box-content">
            <p>You can use the <a href="https://editor.swagger.io/" target="_blank">Swagger Editor</a> to create and validate your OpenAPI specification. It provides real-time validation and a preview of how your documentation will look.</p>
          </div>
        </div>
      </section>

      <section class="module-section">
        <h2>Submission Guidelines</h2>
        <p>To complete this exercise:</p>
        
        <ol>
          <li>Create a YAML file containing your OpenAPI specification</li>
          <li>Validate your specification using the Swagger Editor or another OpenAPI validator</li>
          <li>Save the file as <code>weather-api.yaml</code></li>
          <li>Create a README.md file explaining your design decisions and any assumptions you made</li>
        </ol>
        
        <p>Optional: Deploy your API documentation using a tool like <a href="https://pages.github.com/" target="_blank">GitHub Pages</a> or <a href="https://redocly.com/" target="_blank">Redocly</a> and include the link in your README.md.</p>
      </section>

      <div class="exercise-solution">
        <button class="solution-toggle" id="solutionToggle">
          <i class="fas fa-lightbulb"></i>
          View Example Solution
        </button>
        
        <div class="solution-content" id="solutionContent">
          <h3>Example Solution</h3>
          <p>Here's an example OpenAPI specification for the weather API:</p>
          
          <div class="example-box">
            <pre><code>openapi: 3.0.3
info:
  title: Weather API
  description: |
    A simple API for retrieving weather information for cities around the world.
    This API provides current weather conditions, forecasts, and historical data.
  version: 1.0.0
  contact:
    name: API Support
    email: support@weatherapi.example.com
    url: https://www.weatherapi.example.com/support
  
servers:
  - url: https://api.weatherapi.example.com/v1
    description: Production server
  - url: https://dev.weatherapi.example.com/v1
    description: Development server

paths:
  /weather/current/{city}:
    get:
      summary: Get current weather for a city
      description: Returns the current weather conditions for the specified city
      operationId: getCurrentWeather
      parameters:
        - $ref: '#/components/parameters/CityParam'
        - $ref: '#/components/parameters/UnitsParam'
        - $ref: '#/components/parameters/LangParam'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CurrentWeather'
              example:
                city: London
                country: GB
                timestamp: "2023-05-15T12:00:00Z"
                weather:
                  temperature: 18.5
                  feels_like: 17.8
                  humidity: 65
                  pressure: 1012
                  description: "Partly cloudy"
                  wind:
                    speed: 12.5
                    direction: "SW"
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  
  /weather/forecast/{city}:
    get:
      summary: Get weather forecast for a city
      description: Returns a 5-day weather forecast for the specified city
      operationId: getWeatherForecast
      parameters:
        - $ref: '#/components/parameters/CityParam'
        - $ref: '#/components/parameters/UnitsParam'
        - $ref: '#/components/parameters/LangParam'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forecast'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  
  /weather/history/{city}:
    get:
      summary: Get historical weather data for a city
      description: Returns historical weather data for the specified city
      operationId: getWeatherHistory
      parameters:
        - $ref: '#/components/parameters/CityParam'
        - $ref: '#/components/parameters/UnitsParam'
        - $ref: '#/components/parameters/LangParam'
        - $ref: '#/components/parameters/DaysParam'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HistoricalWeather'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

components:
  parameters:
    CityParam:
      name: city
      in: path
      description: The name of the city to get weather information for
      required: true
      schema:
        type: string
      example: "London"
      
    UnitsParam:
      name: units
      in: query
      description: Units of measurement
      required: false
      schema:
        type: string
        enum: [metric, imperial]
        default: metric
      example: "metric"
      
    LangParam:
      name: lang
      in: query
      description: Language for weather descriptions
      required: false
      schema:
        type: string
        default: en
      example: "en"
      
    DaysParam:
      name: days
      in: query
      description: Number of days for historical data (1-30)
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 30
        default: 7
      example: 7
  
  schemas:
    CurrentWeather:
      type: object
      properties:
        city:
          type: string
          description: City name
        country:
          type: string
          description: Country code
        timestamp:
          type: string
          format: date-time
          description: Time of the weather measurement
        weather:
          $ref: '#/components/schemas/Weather'
      required:
        - city
        - country
        - timestamp
        - weather
          
    Weather:
      type: object
      properties:
        temperature:
          type: number
          format: float
          description: Temperature in degrees (Celsius or Fahrenheit depending on units parameter)
        feels_like:
          type: number
          format: float
          description: Feels like temperature in degrees
        humidity:
          type: integer
          description: Humidity percentage (0-100)
        pressure:
          type: integer
          description: Atmospheric pressure in hPa
        description:
          type: string
          description: Weather condition description
        wind:
          $ref: '#/components/schemas/Wind'
      required:
        - temperature
        - description
        - wind
            
    Wind:
      type: object
      properties:
        speed:
          type: number
          format: float
          description: Wind speed (km/h or mph depending on units parameter)
        direction:
          type: string
          description: Wind direction (N, NE, E, SE, S, SW, W, NW)
      required:
        - speed
        - direction
            
    Forecast:
      type: object
      properties:
        city:
          type: string
          description: City name
        country:
          type: string
          description: Country code
        forecast:
          type: array
          description: Array of daily forecasts
          items:
            $ref: '#/components/schemas/DailyForecast'
      required:
        - city
        - country
        - forecast
            
    DailyForecast:
      type: object
      properties:
        date:
          type: string
          format: date
          description: Forecast date
        weather:
          $ref: '#/components/schemas/Weather'
        min_temperature:
          type: number
          format: float
          description: Minimum temperature
        max_temperature:
          type: number
          format: float
          description: Maximum temperature
        precipitation_chance:
          type: integer
          description: Chance of precipitation (0-100%)
      required:
        - date
        - weather
        - min_temperature
        - max_temperature
            
    HistoricalWeather:
      type: object
      properties:
        city:
          type: string
          description: City name
        country:
          type: string
          description: Country code
        history:
          type: array
          description: Array of historical daily weather data
          items:
            $ref: '#/components/schemas/HistoricalDay'
      required:
        - city
        - country
        - history
            
    HistoricalDay:
      type: object
      properties:
        date:
          type: string
          format: date
          description: Date of the historical data
        weather:
          $ref: '#/components/schemas/Weather'
        min_temperature:
          type: number
          format: float
          description: Minimum temperature recorded
        max_temperature:
          type: number
          format: float
          description: Maximum temperature recorded
        precipitation:
          type: number
          format: float
          description: Total precipitation
      required:
        - date
        - weather
        - min_temperature
        - max_temperature
  
  responses:
    BadRequest:
      description: Bad request - invalid parameters provided
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 400
            message: "Invalid parameters provided"
            
    NotFound:
      description: City not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 404
            message: "City not found"
            
    ServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 500
            message: "Internal server error"
            
    Error:
      type: object
      properties:
        code:
          type: integer
          description: HTTP status code
        message:
          type: string
          description: Error message
      required:
        - code
        - message</code></pre>
          </div>
          
          <h3>Solution Explanation</h3>
          <p>This OpenAPI specification includes:</p>
          
          <ul>
            <li><strong>API Information</strong>: Title, description, version, and contact information</li>
            <li><strong>Servers</strong>: Production and development server URLs</li>
            <li><strong>Paths</strong>: Three endpoints for current weather, forecast, and historical data</li>
            <li><strong>Parameters</strong>: Path and query parameters defined as reusable components</li>
            <li><strong>Schemas</strong>: Reusable schemas for weather information and response objects</li>
            <li><strong>Responses</strong>: Success and error responses with examples</li>
          </ul>
          
          <p>The specification uses component references extensively to promote reusability and maintainability. This approach makes it easier to update the API documentation as the API evolves.</p>
        </div>
      </div>
      
      <div class="chapter-controls">
        <a href="{{ "/practice-exercises/" | relative_url }}" class="prev-chapter">
          <i class="fas fa-arrow-left"></i>
          <span>Back to Practice Exercises</span>
        </a>
        <a href="{{ "/practice-exercises/restful-ecommerce-api/" | relative_url }}" class="next-chapter">
          <span>Next: RESTful E-Commerce API</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>
</div> 